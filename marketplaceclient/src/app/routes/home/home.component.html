<div *ngIf="!isBloccato" class="card content">
  <div class="container">

    <!-- Contenuti affiancati o singoli -->
    <div class="divContentRow">

      <!-- Div Utente / Acquirente -->
      <div *ngIf="ruoloUtente === ERuolo.USER || ruoloUtente === ERuolo.ADMIN"
           class="divInterno divUtente gradiente-utente">

        <!-- Header Acquirente -->
        <div class="divHeaderContainer acquirente">
          <div class="divHeaderUtente full">Catalogo dei prodotti acquistabili</div>
        </div>

        <!-- Prodotti utente -->
        <div class="prodotto-card-container">
          <div *ngFor="let prodotto of prodotti" class="prodotto-card">
            <div class="product-image">
              <img src="assets/images/placeholder.png" alt="{{prodotto.nome}}">
            </div>
            <div class="product-name">{{ prodotto.nome }}</div>
            <div class="product-price">€ {{ prodotto.prezzo.toFixed(2) }}</div>
            <label for="qta-{{ prodotto.id }}">Quantità:</label>
            <select
              id="qta-{{ prodotto.id }}"
              [(ngModel)]="quantitaSelezionata[prodotto.id!]">
              <option *ngFor="let n of [].constructor(quantitaMassima(prodotto.quantita!)); let i = index" [value]="i+1">
                {{ i+1 }}
              </option>
            </select>
            <span >(Disponibili: {{ prodotto.quantita }})</span>
            <button class="btn-add" (click)="onAggiungiAlCarrello(prodotto)">Aggiungi al carrello</button>
          </div>
        </div>
      </div>

      <!-- Div Venditore -->
      <div *ngIf="ruoloUtente === ERuolo.VENDOR || ruoloUtente === ERuolo.ADMIN"
           class="divInterno divVenditore gradiente-venditore">

        <!-- Header Venditore -->
        <div class="divHeaderContainer venditore">
          <div class="divHeaderVenditore full">Catalogo dei tuoi prodotti in vendita</div>
        </div>

        <div class="text-center my-3">
          <button class="btn btn-primary btn-lg" [routerLink]="['/aggiungi-prodotto']">Aggiungi un prodotto</button>
        </div>

        <!-- Prodotti venditore -->
        <div class="prodotto-card-container">
          <div *ngFor="let prodotto of prodottiUtente" class="prodotto-card">
            <div class="product-image">
              <img src="assets/images/placeholder.png" alt="{{prodotto.nome}}">
            </div>
            <div class="product-name">{{ prodotto.nome }}</div>
            <div class="product-price">€ {{ prodotto.prezzo.toFixed(2) }}</div>
            <div class="product-amount">Quantità: {{ prodotto.quantita}}</div>
            <div class="product-actions">
              <button class="btn-edit" [routerLink]="'prodotti/' + prodotto.id">Modifica</button>
              <button class="btn-delete" (click)="onEliminaProdotto(prodotto)">Elimina</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
