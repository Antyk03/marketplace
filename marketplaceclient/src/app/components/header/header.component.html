<!-- Navbar utente loggato -->
<nav *ngIf="utente" class="navbar navbar-dark bg-primary mb-3 sticky-top">
  <div class="container d-flex justify-content-between align-items-center">
    <!-- Titolo -->
    <span class="h1 text-white mb-0">
      <a class="nav-link text-white p-0" routerLink="/">{{titolo}}</a>
    </span>

    <!-- Menu desktop -->
    <ul class="navbar-nav desktop-menu d-none d-md-flex flex-row">
      <li class="nav-item"><a class="nav-link text-white" routerLink="/{{nomeScheda}}">{{nomeScheda | titlecase}}</a></li>
      <li class="nav-item" *ngIf="isAdmin"><a class="nav-link text-white" routerLink="/carrello">Carrello</a></li>
      <li class="nav-item"><a class="nav-link text-white" routerLink="/login">Logout</a></li>
      <li class="nav-item">
        <button class="btn btn-danger btn-sm ms-2" (click)="modal.apriModalEliminaAccount()">Elimina account</button>
      </li>
    </ul>

    <!-- Menu mobile -->
    <div class="mobile-menu d-md-none position-relative">
      <button class="menu-toggle text-white" (click)="toggleMenu()">
        Menu
        <span [class.rotate]="menuVisibile">&#9662;</span>
      </button>
      <div *ngIf="menuVisibile" class="menu-dropdown-mobile shadow-sm rounded p-2">
        <ul class="list-unstyled mb-0">
          <li><a routerLink="/{{nomeScheda}}" class="text-white d-block py-1">{{nomeScheda | titlecase}}</a></li>
          <li *ngIf="isAdmin"><a routerLink="/carrello" class="text-white d-block py-1">Carrello</a></li>
          <li><a routerLink="/login" class="text-white d-block py-1">Logout</a></li>
          <li>
            <button class="btn btn-danger btn-sm w-100 mt-1" (click)="modal.apriModalEliminaAccount()">Elimina account</button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Navbar utente non loggato -->
<nav *ngIf="!utente" class="navbar navbar-dark bg-primary mb-3 sticky-top">
  <div class="container d-flex justify-content-between align-items-center">
    <!-- Titolo -->
    <span class="h1 text-white mb-0">Benvenuto</span>

    <!-- Menu desktop -->
    <ul class="navbar-nav desktop-menu d-none d-md-flex flex-row">
      <li class="nav-item"><a routerLink="/catalogo" class="nav-link text-white">Catalogo</a></li>
      <li class="nav-item"><a routerLink="/login" class="nav-link text-white">Login</a></li>
      <li class="nav-item"><a routerLink="/register" class="nav-link text-white">Register</a></li>
    </ul>

    <!-- Menu mobile -->
    <div class="mobile-menu d-md-none position-relative">
      <button class="menu-toggle text-white" (click)="toggleMenu()">
        Menu
        <span [class.rotate]="menuVisibile">&#9662;</span>
      </button>
      <div *ngIf="menuVisibile" class="menu-dropdown-mobile shadow-sm rounded p-2">
        <ul class="list-unstyled mb-0">
          <li><a routerLink="/catalogo" class="text-white d-block py-1">Catalogo</a></li>
          <li><a routerLink="/login" class="text-white d-block py-1">Login</a></li>
          <li><a routerLink="/register" class="text-white d-block py-1">Register</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Modal sempre presente -->
<app-modal-conferma #modal (accountEliminato)="onAccountEliminato()"></app-modal-conferma>
